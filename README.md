# ë‚ ì”¨ì•±

<img src="weatherapp.jpg" width="20%" height="20%">

<aside>
ğŸ˜† ë°°ì›€ì€ ì–¸ì œë‚˜ ì¦ê±°ì›Œ

# 2.0 snack

- ì—‘ìŠ¤í¬ì˜ ìŠ¤ë‚µì€ vscodeë‚˜ node.jsê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì„ ê²½ìš°, ì•„ì´íŒ¨ë“œë‚˜ í•¸ë“œí°ì„ ì´ìš©í•´ì„œ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- [https://snack.expo.dev](https://snack.expo.dev/)

# 2.1 the rules of native

- viewëŠ” ì»¨í…Œì´ë„ˆë‹¤.
- ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” text ì»´í¬ë„ŒíŠ¸ì— ì¨ì•¼í•œë‹¤. p, spanê³¼ ê°™ì€ íƒœê·¸ëŠ” ì—†ë‹¤.
- StyleSheet.create()ì€ ê¼­ í•„ìš”í•˜ì§€ ì•Šë‹¤. íƒœê·¸ì— ì§ì ‘ ìŠ¤íƒ€ì¼ì„ ë„£ì„ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìë™ì™„ì„±ì„ ì œê³µí•´ì¤˜ì„œ í¸ë¦¬í•˜ë‹¤.
- StatusBarëŠ” í•¸ë“œí° ìƒë‹¨ì— ì‹œê°„, ì™€ì´íŒŒì´, ë°°í„°ë¦¬ í‘œì‹œì°½ì„ ì˜ë¯¸í•œë‹¤. â€œlightâ€ë¡œ ë³€ê²½í•  ì‹œ ìƒíƒœì°½ì´ ì‚¬ë¼ì§„ë‹¤.

# 2.2 react native packages

- react native docsë¥¼ í™•ì¸í•˜ë©´, ì•ˆë“œë¡œì´ë“œì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆê³ , iosë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤.
- ê°œë°œíŒ€ì€ ê³¼ê±°ì— ìµœëŒ€í•œ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí–ˆìœ¼ë‚˜, ë²„ê·¸ê°€ ë§ì•„ì„œ ì´ì œëŠ” apië¥¼ ë§ì´ ì¤„ì˜€ë‹¤.

# 2.3 third party packages

- React Native DirectoryëŠ” ì„œë“œíŒŒí‹° íŒ¨í‚¤ì§€ë¥¼ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤. https://reactnative.directory/
- expo sdkëŠ” ìˆ˜ë§ì€ apiì™€ ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤. react native directoryì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ì—†ë‹¤ë©´ expo docsë¥¼ í™•ì¸í•˜ë©´ ëœë‹¤. https://docs.expo.dev/versions/latest/
- StatusBarëŠ” expo ë²„ì „ì´ ìˆê³ , native ë²„ì „ì´ ìˆë‹¤. ìŠ¤í…Œì´í„°ìŠ¤ë°” ë¿ë§Œ ì•„ë‹ˆë¼ ì»¤ë®¤ë‹ˆí‹° ë²„ì „ì˜ apiì™€ ì»´í¬ë„ŒíŠ¸ëŠ” ë§ë‹¤. ì°¸ê³ ë¡œ ìŠ¤í…Œì´í„°ìŠ¤ë°”ëŠ” ì§€ì›Œë„ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤.

# 2.4 layout system

- ì›¹ì—ì„œëŠ” display:flex, flex-directionì€ ì„¤ì •í•  ìˆ˜ ìˆì—ˆë‹¤. Viewíƒœê·¸ì˜ flexDirectionì€ ê¸°ë³¸ì ìœ¼ë¡œ ì´ë¯¸ flex containerë‹¤. display:flexë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. flex-direction ì—­ì‹œ ë°˜ëŒ€ë°˜í–¥ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤. ì•±ì—ì„œëŠ” ì»¬ëŸ¼ì´ ë””í´íŠ¸.
- ë„ˆë¹„ì™€ ë†’ì´ë¥¼ ì´ìš©í•´ì„œ ë ˆì´ì•„ì›ƒì„ ë””ìì¸ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì•„ì´í°ê³¼ ì•ˆë“œë¡œì´ë“œì˜ 100pxì€ ì„œë¡œ ë‹¤ë¥´ë‹¤. ë˜ ë°˜ì‘í˜•ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. flexë¥¼ ì´ìš©í•œë‹¤. í‹¸ìƒ‰ìƒì˜ ë·°íƒœê·¸ëŠ” ë‹¤ë¥¸ ìš”ì†Œë³´ë‹¤ 3ë°° ë” ë§ì€ ì˜ì—­ì„ ì°¨ì§€ í•œë‹¤.
- ë¶€ëª¨ ìš”ì†Œì˜ flex ì„¤ì •ì´ ì‚¬ë¼ì§€ë©´, ë‹¤ë¥¸ ìš”ì†Œ ì—­ì‹œ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

```jsx
import React from "react";
import { View } from "react-native";

export default function App() {
  return (
    <View style={{ flex: 1, flexDirection: "row" }}>
      <View style={{ flex: 1, backgroundColor: "tomato" }}></View>
      <View style={{ flex: 3, backgroundColor: "teal" }}></View>
      <View style={{ flex: 1, backgroundColor: "orange" }}></View>
    </View>
  );
}
```

# 2.5 styles

```jsx
import React from "react";
import { View, Text, StyleSheet } from "react-native";

export default function App() {
  return (
    <View style={styles.container}>
      <View style={styles.city}>
        <Text style={styles.cityName}>Seoul</Text>
      </View>
      <View style={styles.weather}>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "tomato",
  },
  city: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  cityName: {
    fontSize: 48,
    fontWeight: "500",
  },
  weather: {
    flex: 3,
  },
  day: {
    flex: 1,
    alignItems: "center",
    backgroundColor: "teal",
  },
  temp: {
    marginTop: 50,
    fontSize: 158,
  },
  description: {
    marginTop: -30,
    fontSize: 58,
  },
});
```

# 2.6 styles part two

- ë·°ëŠ” ìŠ¤í¬ë¡¤ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ScrollViewë¥¼ ì´ìš©í•´ë³´ì. propìœ¼ë¡œ horizontalë¥¼ ì£¼ë©´ íš¡ìŠ¤í¬ë¡¤ì„ í•  ìˆ˜ ìˆìœ¼ë‚˜, ë¬¸ì œê°€ ìƒê¸¸ê±°ë‹¤. contentContainerStyleë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.
- í•¸ë“œí°ì„ ì–‘ì˜†ìœ¼ë¡œ ì‰ì´í‚¹ í•˜ë©´ ë©”ë‰´ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ë©”ë‰´ì˜ ì œì¼ í•˜ë‹¨ì— ì¸ìŠ¤í™í„°ê°€ ìˆëŠ”ë°, ì¸ìŠ¤í™í„°ë¡œ í™”ë©´ì˜ êµ¬ì„±ìš”ì†Œë¥¼ íŒŒì•…í•˜ì.
- Dimenstionìœ¼ë¡œ í™”ë©´ì˜ ì „ì²´ í¬ê¸°ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.
- pagingEnabled propì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì™„ì „íˆ ë„˜ê²¨ì•¼ ì „í™˜ì´ ëœë‹¤.

```jsx
import React from "react";
import { View, ScrollView, Text, StyleSheet, Dimensions } from "react-native";

const { height: SCREEN_HEIGHT, width: SCREEN_WIDTH } = Dimensions.get("window");

export default function App() {
  return (
    <View style={styles.container}>
      <View style={styles.city}>
        <Text style={styles.cityName}>Seoul</Text>
      </View>
      <ScrollView
        pagingEnabled
        horizontal
        showsHorizontalScrollIndicator={false}
        contentContainerStyle={styles.weather}
      >
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "tomato",
  },
  city: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  cityName: {
    fontSize: 48,
    fontWeight: "500",
  },
  weather: {},
  day: {
    width: SCREEN_WIDTH,
    alignItems: "center",
  },
  temp: {
    marginTop: 50,
    fontSize: 158,
  },
  description: {
    marginTop: -30,
    fontSize: 58,
  },
});
```

# 2.7 location

- expo install expo-location

```jsx
import React, { useEffect, useState } from "react";
import { View, ScrollView, Text, StyleSheet, Dimensions } from "react-native";
import * as Location from "expo-location";

const { height: SCREEN_HEIGHT, width: SCREEN_WIDTH } = Dimensions.get("window");

export default function App() {
  const [city, setCity] = useState("Loading...");
  const [ok, setOk] = useState(true);

  const getWeather = async () => {
    const { granted } = await Location.requestForegroundPermissionsAsync();

    if (!granted) {
      setOk(false);
    }

    const {
      coords: { latitude, longitude },
    } = await Location.getCurrentPositionAsync({ accuracy: 5 });

    const getLocation = await Location.reverseGeocodeAsync(
      { latitude, longitude },
      { useGoogleMaps: false }
    );

    setCity(getLocation[0].city);
  };

  useEffect(() => {
    getWeather();
  }, []);

  return (
    <View style={styles.container}>
      <View style={styles.city}>
        <Text style={styles.cityName}>{city}</Text>
      </View>
      <ScrollView
        pagingEnabled
        horizontal
        showsHorizontalScrollIndicator={false}
        contentContainerStyle={styles.weather}
      >
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
        <View style={styles.day}>
          <Text style={styles.temp}>27</Text>
          <Text style={styles.description}>Sunny</Text>
        </View>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "tomato",
  },
  city: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  cityName: {
    fontSize: 48,
    fontWeight: "500",
  },
  weather: {},
  day: {
    width: SCREEN_WIDTH,
    alignItems: "center",
  },
  temp: {
    marginTop: 50,
    fontSize: 158,
  },
  description: {
    marginTop: -30,
    fontSize: 58,
  },
});
```

# 2.8 weather

- https://[openweathermap.org/api](http://openweathermap.org/api) ì—ì„œ ë‚ ì”¨ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤. íšŒì›ê°€ì…ì„ í•˜ê³  apií‚¤ë¥¼ ê°€ì ¸ì˜¤ì.

```jsx
import React, { useEffect, useState } from "react";
import {
  View,
  ScrollView,
  Text,
  StyleSheet,
  Dimensions,
  ActivityIndicator,
} from "react-native";
import * as Location from "expo-location";

const { height: SCREEN_HEIGHT, width: SCREEN_WIDTH } = Dimensions.get("window");
const weatherAPI = "####";

export default function App() {
  const [city, setCity] = useState("Loading...");
  const [ok, setOk] = useState(true);
  const [days, setDays] = useState([]);

  const getWeather = async () => {
    const { granted } = await Location.requestForegroundPermissionsAsync();

    if (!granted) {
      setOk(false);
    }

    const {
      coords: { latitude, longitude },
    } = await Location.getCurrentPositionAsync({ accuracy: 5 });

    const getLocation = await Location.reverseGeocodeAsync(
      { latitude, longitude },
      { useGoogleMaps: false }
    );

    setCity(getLocation[0].city);

    const response = await fetch(
      `https://api.openweathermap.org/data/3.0/onecall?lat=${latitude}&lon=${longitude}&exclude={alerts}&appid=${weatherAPI}&units=metric`
    );
    const json = await response.json();
    setDays(json.daily);
  };

  useEffect(() => {
    getWeather();
  }, []);

  return (
    <View style={styles.container}>
      <View style={styles.city}>
        <Text style={styles.cityName}>{city}</Text>
      </View>
      <ScrollView
        pagingEnabled
        horizontal
        showsHorizontalScrollIndicator={false}
        contentContainerStyle={styles.weather}
      >
        {days.length === 0 ? (
          <View style={styles.day}>
            <ActivityIndicator
              color={"white"}
              size={"large"}
              style={{ marginTop: 10 }}
            />
          </View>
        ) : (
          days.map((day, index) => (
            <View key={index} style={styles.day}>
              <Text style={styles.temp}>
                {parseFloat(day.temp.day).toFixed(1)}
              </Text>
              <Text style={styles.description}>{day.weather[0].main}</Text>
              <Text style={styles.tiny_description}>
                {day.weather[0].description}
              </Text>
            </View>
          ))
        )}
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#B5D692",
  },
  city: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  cityName: {
    fontSize: 48,
    fontWeight: "500",
  },
  weather: {},
  day: {
    width: SCREEN_WIDTH,
    alignItems: "center",
  },
  temp: {
    marginTop: 50,
    fontSize: 108,
  },
  description: {
    marginTop: -30,
    fontSize: 58,
  },
  tiny_description: {
    fontSize: 28,
  },
});
```

# 2.9 recap

# 2.10 icons

- https://icons.expo.fyi ì—¬ëŸ¬ ì•„ì´ì½˜ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. `expo init` ì„ ì´ìš©í•´ì„œ ì•±ì„¤ì •ì„ í–ˆë‹¤ë©´ ì•„ì´ì½˜ì„ ì‰½ê²Œ ê°€ì ¸ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ê¸°ì¡´ì˜ ìŠ¤íƒ€ì¼ ê°€ì ¸ì˜¤ë©´ì„œ íŠ¹ì • íƒœê·¸ì— ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•˜ê¸°

```jsx
<View style={{ ...styles.day, alignItems: "center" }}>
  <ActivityIndicator color={"white"} size={"large"} style={{ marginTop: 10 }} />
</View>
```

</aside>
